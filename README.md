## 1. Project Overview

This project provides a complete end-to-end data analytics pipeline for a mobile phone repair and accessories shop. It includes a data source API, an ETL process with a star schema data warehouse, and an interactive BI dashboard.

### 1.1 Features

-   **Data Source API:** A FastAPI application serves transaction data, simulating a real-world production environment.
-   **Star Schema Data Warehouse:** An SQLite database designed for optimal BI query performance with fact and dimension tables.
-   **ETL Pipeline:** A Python script extracts data from the API, transforms it, and loads it into the data warehouse.
-   **Interactive BI Dashboard:** A Dash/Plotly application provides visualizations for KPIs, customer analysis, and product performance.

### 1.2 Technology Stack

-   **Backend:** Python 3.11, FastAPI
-   **Data Processing:** pandas
-   **Database:** SQLite
-   **Dashboard:** Dash, Plotly
-   **Core Libraries:** `requests`, `sqlalchemy`, `uvicorn`

---

## 2. Project Structure

```
/mobile_shop_project
|-- api.py                      # FastAPI data source API
|-- etl_star_schema.py          # ETL script for star schema
|-- schema.sql                  # SQL script to create the star schema
|-- dashboard.py                # Dash BI dashboard application
|-- mobile_shop_transactions_3years.csv # Source data file
|-- mobile_shop_dw.db           # SQLite data warehouse (generated by ETL)
|-- requirements.txt            # Python package requirements
|-- README.md                   # This file
```

---

## 3. Setup and Installation
```bash
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
```

---

## 4. How to Run the Project
exucute these in each terminal
```bash
venv\Scripts\activate
python api.py
```
```bash
venv\Scripts\activate
python etl_star_schema.py
```
```bash
venv\Scripts\activate
python dashboard.py
```

### 5.1 Fact Table

-   `fact_transactions`: Stores the core transactional events and numeric measures (e.g., `total_amount`, `quantity`).

### 5.2 Dimension Tables

-   `dim_product`: Stores descriptive attributes of each product.
-   `dim_customer`: Stores attributes of each customer.
-   `dim_date`: Stores a complete calendar with various time-based attributes.
-   `dim_staff`: Stores staff information.
-   `dim_supplier`: Stores supplier information.

### 5.3 Aggregate Tables

-   `agg_*`: Pre-aggregated summary tables to ensure fast dashboard loading times.

### 5.4 Views

-   `vw_*`: Pre-joined views for common analytical queries, simplifying data access.

For the complete schema, see `schema.sql`.

---

## 6. Dashboard Features

The dashboard is organized into three main tabs:

### 6.1 KPI Analysis

-   **Revenue by Category, Brand, and Model:** Bar charts showing total revenue for different product dimensions.
-   **Transaction Status by Order Type:** A grouped bar chart showing the status (Completed, Cancelled, Refunded) for each sales channel.

### 6.2 Customer Insights

-   **Discount & Rating by Demographics:** Grouped bar charts showing average discount and rating by customer age group and gender.
-   **Transaction Trends:** A line chart showing the number of transactions over time.
-   **Revenue Heatmap:** A heatmap showing total revenue by customer segment (age group and gender).

### 6.3 Product Deep-Dive

-   **Product Type Distribution:** Stacked bar charts showing the distribution of "Accessory" vs. "Repair" products across categories, brands, and models.

---
